@import layout
@import bootstrap
@import countdown

$red_current : rgb(178,31,34)

// LANGUAGE SELECTOR //////////////////////////////////////////////////////////////////////

#lang_selector
  position: fixed
  right: 20px
  bottom: 9px
  width: 75px

  img
    position: relative

    &[lang=it]
      margin-right: -13px

    &[lang=en]
      margin-left: -12px

    &.selected
      z-index: 1

    &:not(.selected)
      z-index: 0

      &:hover
        z-index: 2


// MENU //////////////////////////////////////////////////////////////////////

nav[role=navigation]

  ul
    list-style-type: none

    li:not(.date)
      float: left
      border-right: 1px solid gray

      &:first-of-type
        border-left: 1px solid gray

      a
        display: block
        padding: 8px 10px 10px
        margin: -4px 0 -5px

        &, &:hover, &:visited
          @extend h4
          text-decoration: none

        &:hover
          background: #ccc


    li.date
      float: right
      padding: 4px 0 5px



// HEADER //////////////////////////////////////////////////////////////////////


section[role=header]
  background: white
  text-align: center

  .sold_out
    position: absolute
    right: 20px
    top: -25px

  h1
    font-size: 6.5em
    font-family: 'Lemon', 'Russo One', sans-serif
    +text-shadow(-2px -1px #eee)
    color: #121212
    white-space: nowrap

    .ninja
      position: relative
      left: 35px
      vertical-align: baseline

    ._4
      display: inline-block
      height: 1em
      +transform-origin(100%,100%)
      +transform(translate(5px, -30px) rotate(10deg))

    ._rails
      letter-spacing: -15px

    small
      vertical-align: middle
      +text-shadow(-1px -.5px black)

  h2.pitch
    margin-top: -2.5em

    small
      color: rgb(178,31,34)


// TIMELINE //////////////////////////////////////////////////////////////////////

section.timeline
  height: 90px
  overflow: hidden
  +background(linear-gradient(left, $red_current 50%, #ddd 50%))

  > div
    padding: 0
    background: white

  article
    +box-sizing(border-box)
    position: relative
    background: #ddd

    &:first-of-type
      +span-columns(5)
      &:after
        border-top: 50px solid transparent
        border-bottom: 50px solid transparent
        border-right: 50px solid $red_current
        display: block
        content: ' '
        position: absolute
        width: 0
        height: 0
        top: 40px
        right: -13px

    &:nth-of-type(2)
      +span-columns(4)
      &:after
        border-top: 50px solid transparent
        border-bottom: 50px solid transparent
        border-right: 50px solid $red_current
        display: block
        content: ' '
        position: absolute
        width: 0
        height: 0
        top: -50px
        left: -50px

    &:last-of-type
      +span-columns(2)
      height: 90px
      +omega
      &:after
        border-top: 50px solid transparent
        border-bottom: 50px solid transparent
        border-right: 50px solid #ddd
        display: block
        content: ' '
        position: absolute
        width: 0
        height: 0
        top: -50px
        left: -50px
      &:before
        border-top: 50px solid transparent
        border-bottom: 50px solid transparent
        border-right: 50px solid #ddd
        display: block
        content: ' '
        position: absolute
        width: 0
        height: 0
        top: 40px
        left: -50px

    &:not(:last-of-type)
      padding-right: 45px
      &:before
        display: block
        width: 0 !important
        height: 0 !important
        float: right
        border-top: 45px solid white
        border-bottom: 45px solid white
        border-left-width: 45px
        border-left-style: solid
        border-left-color: #ddd
        margin-right: -45px
        content: ' '

    &.current a
      text-decoration: underline

    &.current, &.current a
      color: white
      background: rgb(178,31,34)

      header
        @extend h2
        text-shadow: 1px 1px #000

      &:before
        border-left-color: rgb(178,31,34)

    &.past header, &.past p
      +opacity(.7)


    &:not(.current)

      header
        @extend h3
        white-space: nowrap
        text-shadow: 1px 1px #fff

      header, p
        opacity: .5

    header
      margin-top: 5px !important


// SPONSOR //////////////////////////////////////////////////////////////////////


.sponsors
  margin-bottom: 500px

  img
    margin-right: 2em

  article
    +span-columns(11)
    +suffix(0)
    padding: 9px 0 9px 0
    margin: 4px 0 5px 0

    header
      display: inline-block
      position: relative
      bottom: -20px
      width: 1.2em
      margin-right: 1em
      line-height: 3em
      vertical-align: middle
      +rotate(-90deg)

    img
      vertical-align: middle



    //&.gold
    //  +span-columns(6)
    //
    //&.silver
    //  +span-columns(5)
    //
    //&.silver
    //  +suffix(0)
    //  +omega()

    &:not(:last-of-type)
      margin-top: 18px
      border-bottom: 1px dashed #d9dade

    &.platinum

      img
        width: 24em

    a:last-of-type

      img
        margin-right: 0


// RSVP //////////////////////////////////////////////////////////////////////


.rsvp
  margin: 36px 0
  text-align: center
  position: relative
  z-index: 1

  .pitch
    margin-top: 18px


// SOCIAL //////////////////////////////////////////////////////////////////////

.social
  margin: 36px 0
  overflow: visible

  .ninja
    margin-top: -200px
    z-index: 0



// HILLS //////////////////////////////////////////////////////////////////////

section[role=main].pages_index
  background: image_url('landscape.png') no-repeat bottom center

  >div
    position: relative


  footer
    position: absolute
    bottom: 0
    left: 0
    +span-columns(11)

    img
      position: absolute

    .ninja.rails
      left: 0
      bottom: 20px

    .ninja.ruby
      bottom: 80px
      right: 50px

    .shuriken
      bottom: 150px
      right: 130px
      width: 20px
      height: 20px

    .dynamite
      left: 160px
      bottom: 20px
      z-index: 0

    .tree
      bottom: 100px
      left: -50px

    .twitter
      left: 160px
      bottom: 312px
      width: 50px

    .pitch
      position: relative
      text-align: right
      z-index: 1


// NINJA //////////////////////////////////////////////////////////////////////

.participants

  article
    +span-columns(11)
    padding-bottom: 17px
    margin-bottom: 18px

    &:not(:last-of-type)
      border-bottom: 1px solid gray

  ul
    list-style-type: none
    white-space: nowrap
    +clearfix
    overflow: visible

  li
    display: inline-block
    position: relative
    vertical-align: bottom

    &:not(:last-of-type)
      margin-right: 20px

    .ninja
      position: relative
      z-index: 2
      margin-bottom: 18px

    .face
      position: absolute
      width: 60px
      height: 60px
      +border-radius(30px)
      z-index: 1
      +background-size(80px 80px)
      background-repeat: no-repeat


    .ninja.crouched + .face
      left: 50px
      top: 5px

    .ninja.kick + .face, .ninja.ruby + .face
      left: 10px
      top: 5px

    .ninja.sword + .face
      left: 20px
      top: 50px

// FOOTER //////////////////////////////////////////////////////////////////////

body > footer
  border-top: 20px solid darken(#3d3028, 10%)
  +background(linear-gradient(top, #3d3028 0%, darken(#a08855, 15%) 50%, #544741 95%))
  color: #d9dade

  > div:not(.countdown)
    background: image_url('dragon.png') no-repeat right top

  .dexter
    float: left

  ul
    margin-left: 0

  a, a:hover
    color: #d9dade
    text-decoration: underline


//
